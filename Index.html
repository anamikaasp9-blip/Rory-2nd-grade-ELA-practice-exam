<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FL FAST Practice Tests - All In One</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 15px;
            min-height: 100vh;
        }
        .container { max-width: 900px; margin: 0 auto; }
        
        /* HOME SCREEN */
        #homeScreen { display: block; }
        #testScreen { display: none; }
        
        .header {
            background: white;
            border-radius: 20px;
            padding: 30px;
            text-align: center;
            margin-bottom: 20px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
        }
        h1 { color: #667eea; font-size: 28px; margin-bottom: 10px; }
        .subtitle { color: #666; font-size: 16px; }
        
        .section {
            background: white;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        }
        .section h2 { color: #667eea; margin-bottom: 15px; text-align: center; font-size: 22px; }
        
        .test-btn {
            background: #f8f9fa;
            border: 3px solid #e0e0e0;
            border-radius: 12px;
            padding: 15px;
            margin-bottom: 12px;
            cursor: pointer;
            transition: all 0.3s;
            width: 100%;
            text-align: left;
        }
        .test-btn:active { transform: scale(0.98); }
        .test-btn:hover { border-color: #667eea; box-shadow: 0 3px 10px rgba(0,0,0,0.1); }
        
        .test-title { font-size: 18px; font-weight: bold; color: #333; margin-bottom: 5px; }
        .test-desc { font-size: 13px; color: #666; margin-bottom: 8px; }
        .test-meta { font-size: 12px; color: #999; }
        .counter-badge {
            background: #fff3cd;
            border: 2px solid #ffc107;
            color: #856404;
            padding: 3px 8px;
            border-radius: 10px;
            font-size: 11px;
            font-weight: bold;
            display: inline-block;
            margin-top: 5px;
        }
        
        /* TEST SCREEN */
        .test-header {
            background: white;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 15px;
            text-align: center;
        }
        .test-header h2 { color: #667eea; margin-bottom: 5px; font-size: 22px; }
        .test-label { background: #667eea; color: white; padding: 8px 15px; border-radius: 20px; display: inline-block; margin: 10px 0; font-size: 14px; font-weight: bold; }
        
        .progress-bar {
            width: 100%;
            height: 25px;
            background: #e0e0e0;
            border-radius: 15px;
            margin: 15px 0;
            overflow: hidden;
        }
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea, #764ba2);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 13px;
            transition: width 0.3s;
        }
        
        .question-box {
            background: white;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 15px;
        }
        .q-number { color: #667eea; font-weight: bold; margin-bottom: 10px; font-size: 16px; }
        .q-text { color: #333; margin-bottom: 15px; line-height: 1.5; font-size: 15px; }
        .passage {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
            line-height: 1.6;
            border-left: 3px solid #667eea;
        }
        
        .option {
            background: white;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            padding: 12px;
            margin-bottom: 10px;
            cursor: pointer;
            display: flex;
            align-items: center;
            transition: all 0.2s;
        }
        .option:active { transform: scale(0.98); }
        .option.selected { border-color: #667eea; background: #e8edff; }
        .option-letter {
            width: 28px;
            height: 28px;
            border-radius: 50%;
            background: #667eea;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 12px;
            font-weight: bold;
            flex-shrink: 0;
            font-size: 14px;
        }
        
        .btn-container { display: flex; gap: 10px; margin-top: 15px; }
        button {
            flex: 1;
            padding: 12px;
            border: none;
            border-radius: 10px;
            font-size: 15px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.2s;
        }
        button:active { transform: scale(0.95); }
        .btn-primary { background: #667eea; color: white; }
        .btn-secondary { background: #e0e0e0; color: #666; }
        button:disabled { opacity: 0.5; cursor: not-allowed; }
        
        /* RESULTS */
        .results { text-align: center; padding: 20px; }
        .score-circle {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea, #764ba2);
            margin: 20px auto;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            color: white;
            box-shadow: 0 8px 20px rgba(102, 126, 234, 0.3);
        }
        .score-num { font-size: 40px; font-weight: bold; }
        .score-label { font-size: 15px; margin-top: 5px; }
        .results h2 { color: #667eea; margin: 15px 0; font-size: 26px; }
        .feedback {
            background: #f0f4ff;
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
            font-size: 16px;
        }
        .result-box {
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
            text-align: left;
        }
        .result-box h3 { margin-bottom: 10px; font-size: 18px; }
        .result-correct { background: #e8f5e9; }
        .result-correct h3 { color: #2e7d32; }
        .result-correct .result-text { color: #1b5e20; }
        .result-incorrect { background: #ffebee; }
        .result-incorrect h3 { color: #c62828; }
        .result-incorrect .result-text { color: #b71c1c; }
        
        .hidden { display: none !important; }
    </style>
</head>
<body>
    <!-- HOME SCREEN -->
    <div id="homeScreen" class="container">
        <div class="header">
            <h1>üåü FL FAST STAR Reading Practice üåü</h1>
            <div class="subtitle">2nd Grade - All Tests in One File!</div>
        </div>
        
        <div class="section">
            <h2>üìã Practice Test #3</h2>
            <button class="test-btn" onclick="loadTest('test3', 'full')">
                <div class="test-title">üìö Full Test #3</div>
                <div class="test-desc">Complete all 34 questions in one session</div>
                <div class="test-meta">34 Questions ‚Ä¢ 30-40 min</div>
            </button>
            <button class="test-btn" onclick="loadTest('test3', 'part1')">
                <div class="test-title">üìó Test #3 - Part 1</div>
                <div class="test-desc">Questions 1-17. Perfect for shorter sessions</div>
                <div class="test-meta">17 Questions ‚Ä¢ 15-20 min</div>
            </button>
            <button class="test-btn" onclick="loadTest('test3', 'part2')">
                <div class="test-title">üìò Test #3 - Part 2</div>
                <div class="test-desc">Questions 18-34. Continue your practice</div>
                <div class="test-meta">17 Questions ‚Ä¢ 15-20 min</div>
            </button>
        </div>

        <div class="section">
            <h2>üìã Practice Test #2</h2>
            <button class="test-btn" onclick="loadTest('test2', 'full')">
                <div class="test-title">üìö Full Test #2</div>
                <div class="test-desc">Complete all 34 questions</div>
                <div class="test-meta">34 Questions ‚Ä¢ 30-40 min</div>
                <div class="counter-badge">Practiced: <span id="c-t2-full">0</span> times</div>
            </button>
            <button class="test-btn" onclick="loadTest('test2', 'part1')">
                <div class="test-title">üìó Test #2 - Part 1</div>
                <div class="test-desc">Questions 1-17 with practice counter</div>
                <div class="test-meta">17 Questions ‚Ä¢ 15-20 min</div>
                <div class="counter-badge">Practiced: <span id="c-t2-p1">0</span> times</div>
            </button>
            <button class="test-btn" onclick="loadTest('test2', 'part2')">
                <div class="test-title">üìò Test #2 - Part 2</div>
                <div class="test-desc">Questions 18-34 with practice counter</div>
                <div class="test-meta">17 Questions ‚Ä¢ 15-20 min</div>
                <div class="counter-badge">Practiced: <span id="c-t2-p2">0</span> times</div>
            </button>
        </div>
    </div>

    <!-- TEST SCREEN -->
    <div id="testScreen" class="container">
        <div class="test-header">
            <h2 id="testTitle">Practice Test</h2>
            <div class="test-label" id="testLabel">FULL TEST</div>
            <div class="counter-badge">Times Practiced: <span id="currentCount">0</span></div>
        </div>
        
        <div class="progress-bar">
            <div class="progress-fill" id="progressBar">Question 1 of 34</div>
        </div>
        
        <div id="questionArea"></div>
        
        <div id="buttonArea" class="btn-container">
            <button class="btn-secondary" id="prevBtn" onclick="prevQ()">‚Üê Previous</button>
            <button class="btn-primary" id="nextBtn" onclick="nextQ()">Next ‚Üí</button>
            <button class="btn-primary hidden" id="submitBtn" onclick="submit()">Submit Test</button>
        </div>
        
        <div id="resultsArea" class="results hidden"></div>
    </div>

    <script>
        // TEST DATA
        const DATA = {
            test3: { full: [
                { n: 1, t: "Mia's new kitten was too playful, so she decided to declaw it.", q: "What is the prefix in the word 'declaw'?", o: ["claw", "de", "playful"], c: 1 },
                { n: 2, p: "Being kind means being friendly and helpful to others. When we share our toys and say nice words, we make our friends feel happy. Let's spread kindness everywhere we go and make our world a better place!", q: "What is the text meant to do?", o: ["teach something", "tell a story", "make people do something"], c: 2 },
                { n: 3, t: "Tommy prefers chocolate ice cream over vanilla.", q: "What does the word 'prefer' mean?", o: ["to like one thing more than another", "to dislike something", "to eat quickly"], c: 0 },
                { n: 4, t: "Isabella brought her backpack, lunchbox and water bottle to school.", q: "Where should a comma be added to the sentence to make it correct?", o: ["after brought", "after lunchbox", "after Isabella"], c: 1 },
                { n: 5, t: "The children suppose there might be hidden treasure buried in the backyard.", q: "What does the word 'suppose' mean?", o: ["to guess or imagine", "to know for sure", "to forget"], c: 0 },
                { n: 6, p: "Max and his family went to the zoo to see all the animals. They saw lions, tigers, monkeys, and even a big elephant. Max's favorite animal was the giraffe because it had a long neck.", q: "Where did Max go with his family?", o: ["the circus", "the zoo", "the museum"], c: 1 },
                { n: 7, p: "Water is precious, and we need to use it wisely. Turning off the faucet when we brush our teeth and taking quick showers helps save water. Let's be water heroes and protect our planet!", q: "What is the text meant to do?", o: ["teach something", "tell a story", "make people do something"], c: 2 },
                { n: 8, t: "Sophie won't be able to play outside until she finishes her homework.", q: "What two words make the contraction 'won't'?", o: ["we dont", "will not", "will do"], c: 1 },
                { n: 9, p: "Pollination is how plants make seeds to grow into new plants. Bees, butterflies, and other insects help pollinate flowers by carrying pollen from one flower to another. Pollination is important because it helps plants reproduce and grow more food.", q: "What is the author's purpose?", o: ["to get people to pollinate", "to make people laugh", "to tell about pollination"], c: 2 },
                { n: 10, t: "Olivia was unable to finish her homework because she forgot her pencil.", q: "What does the prefix in the word 'unable' mean?", o: ["not", "do again", "more"], c: 0 },
                { n: 11, t: "Stella observed the birds peeking out of their nests as she walked through the park.", q: "What does the word 'observed' mean?", o: ["to ignore", "to watch carefully", "to catch"], c: 1 },
                { n: 12, p: "Local Park Cleanup Event\n\nThis Saturday, our community is coming together for a park cleanup event. Families and friends will gather at the park to pick up trash and make our neighborhood clean and beautiful. There will be games, snacks, and lots of fun as we work together to keep our park tidy!", q: "What is the purpose of this news article?", o: ["to get people to throw trash on the ground", "to teach people about cleaning", "tell people about a park cleanup event"], c: 2 },
                { n: 13, t: "The librarian keeps records of all the books borrowed from the library.", q: "What does the word 'records' mean?", o: ["to play music", "to keep track of information", "to draw pictures"], c: 1 },
                { n: 14, p: "Sophie went to a birthday party at the park. There were balloons, cake, and lots of games to play. She had so much fun playing with her friends and celebrating.", q: "Where did Sophie go for the birthday party?", o: ["the library", "the park", "the beach"], c: 1 },
                { n: 15, t: "The title of a text is: 'Robby and Tommy's Big Adventure'", q: "What is the text meant to do?", o: ["teach something", "tell a story", "make people do something"], c: 1 },
                { n: 16, t: "Her laughter bubbled up like a pot of boiling water on the stove.", q: "Which two things are being compared in the sentence?", o: ["her laughter and a pot", "her laughter and bubbles", "her laughter and boiling water"], c: 2 },
                { n: 17, t: "Emma's mom told her to separate her clean clothes from the dirty ones.", q: "What does the word 'separate' mean?", o: ["to mix things together", "to put things apart from each other", "to throw things away"], c: 1 },
                { n: 18, t: "The bird flew down from the tree in a swift swoop.", q: "What does the word 'swoop' mean?", o: ["to fly straight up", "to fly quickly downward", "to stay still in the air"], c: 1 },
                { n: 19, t: "An article tells about how to make a school garden.", q: "Which heading would give details about what to plant?", o: ["Picking the Right Space", "How to Maintain the Garden", "What Seeds to Plant"], c: 2 },
                { n: 20, p: "Lions are big cats that live in groups called prides. They are known for their loud roars and their golden fur. Lions are carnivores, which means they eat meat, and they are excellent hunters.", q: "What is the text meant to do?", o: ["teach something", "tell a story", "make people do something"], c: 0 },
                { n: 21, p: "Underneath the moon so bright\nFireflies dance in the night\nTheir twinkling lights fill the air\nMagic moments, beyond compare", q: "What is the rhyme pattern?", o: ["AABB", "ABAB", "ABCB"], c: 0 },
                { n: 22, p: "Jack and his dog Max went on a walk in the forest. They saw squirrels chasing each other, birds singing in the trees, and a rabbit hopping across their path.", q: "Who went on a walk in the forest?", o: ["Jack and his cat", "Jack and his dog", "Jack and his friend"], c: 1 },
                { n: 23, p: "Ava learned that practicing her spelling words every day helps her improve. She practiced spelling words for ten minutes each night and got better grades on her spelling tests. Now she knows that practicing regularly is important for learning new things.", q: "What did Ava learn helps her improve her spelling?", o: ["reading stories", "practicing every day", "playing outside"], c: 1 },
                { n: 24, p: "Using manners like saying please, thank you, and excuse me shows respect. When we use polite words, we make others feel happy and appreciated. Let's always remember to use our manners and be polite to everyone!", q: "Why did the author write this?", o: ["to tell people how to be happy", "to teach people how to say thank you", "to tell people why they should use manners"], c: 2 },
                { n: 25, p: "Taking care of our pets is an important responsibility. We need to feed them, give them water, and make sure they feel loved. Let's be good pet owners and take care of our furry friends!", q: "What is this text mostly about?", o: ["adopting a pet", "having a dog", "taking care of pets"], c: 2 },
                { n: 26, p: "In the starry night, the moon shines bright\nWith twinkling stars, a sparkling sight\nDreams take flight as we close our eyes\nUnderneath the darkened skies", q: "What is the rhyme pattern?", o: ["ABAB", "AABB", "ABCA"], c: 1 },
                { n: 27, t: "For my birthday, I got a shiny blue watch!", q: "What does the word 'watch' mean in this sentence?", o: ["to look at something carefully", "a small timepiece worn on your wrist", "to be careful"], c: 1 },
                { n: 28, p: "Here in your arms,\nis where I belong.\nThe beating of your heart,\nis like a beautiful song.", q: "What is the rhyme pattern?", o: ["ABCB", "ABAB", "AABB"], c: 0 },
                { n: 29, t: "The trees began to sway in the wind as the storm approached.", q: "What does the word 'sway' mean?", o: ["to move gently back and forth", "to stand still", "to jump up and down"], c: 0 },
                { n: 30, p: "The human body has many parts that work together to help us move, think, and grow. Our brains control everything we do, like thinking, feeling, and moving. We have bones, muscles, and organs inside our bodies that help us stay healthy.", q: "What is the text meant to do?", o: ["teach something", "tell a story", "make people do something"], c: 0 },
                { n: 31, t: "Liam prefers chocolate ice cream over vanilla.", q: "What does the word 'prefer' mean?", o: ["to dislike something", "to like one thing more than another", "to eat everything"], c: 1 },
                { n: 32, p: "Taking turns means waiting for our chance to do something. When we take turns, everyone gets a chance to play and have fun. Let's take turns and share the fun with our friends!", q: "What is the text meant to do?", o: ["teach something", "tell a story", "make people do something"], c: 2 },
                { n: 33, p: "Rainforests are dense forests found in tropical regions with lots of rain. They are home to millions of plants and animals, many of which are found nowhere else. Rainforests help regulate the Earth's climate and provide oxygen for us to breathe.", q: "Where are rainforests found?", o: ["on islands", "in tropical regions", "in the north"], c: 1 },
                { n: 34, t: "Noah insisted on going to the park even though it was raining.", q: "What does the word 'insist' mean?", o: ["to disagree", "to agree", "to firmly assert"], c: 2 }
            ]},
            test2: { full: [
                { n: 1, t: "Max's bicycle had a prebuilt basket attached to the front.", q: "What is the prefix in the word 'prebuilt'?", o: ["pre", "built", "basket"], c: 0 },
                { n: 2, p: "Do you like to read? Reading is amazing because it takes us on adventures in our minds. Let's read books every day and discover new and exciting worlds together!", q: "What is the text meant to do?", o: ["teach something", "tell a story", "make people do something"], c: 2 },
                { n: 3, t: "The teacher asked us to _____ our favorite book by drawing a picture of the main character.", q: "Which word best completes the sentence?", o: ["illustrate", "analyze", "identify"], c: 0 },
                { n: 4, t: "I cannot wait to see my friends at the party tonight.", q: "Which word can replace 'cannot' to make a contraction?", o: ["cain't", "can't", "cant"], c: 1 },
                { n: 5, t: "It's important to revise your work to make sure there are no mistakes.", q: "What does the word 'revise' mean?", o: ["focus on", "look over again", "complete"], c: 1 },
                { n: 6, p: "Tommy's dad taught him how to ride a bike. At first, Tommy fell off a lot and felt frustrated. But he didn't give up, and soon he was riding his bike all by himself. Tommy learned that practice is key to learning new skills.", q: "What lesson does this story tell?", o: ["giving up", "asking for help", "practice and perseverance"], c: 2 },
                { n: 7, p: "During a thunderstorm, Sarah and her family sat by the window and watched the rain pour down. They listened to the thunder rumble and saw flashes of lightning light up the sky.", q: "What did Sarah and her family do during the thunderstorm?", o: ["played outside", "sat by the window", "watched TV"], c: 1 },
                { n: 8, t: "The kittens' _____ is soft and fluffy.", q: "What word correctly fills in the blank?", o: ["fur", "furs", "fur's"], c: 0 },
                { n: 9, p: "Do you want to help the Earth? Recycling is important because it helps keep our planet clean and healthy. Let's all recycle our cans, bottles, and paper to help protect the Earth!", q: "What is the author's purpose?", o: ["to get people to recycle", "to tell about recycling", "to make people laugh"], c: 0 },
                { n: 10, t: "Sarah decided to reheat her leftovers for dinner.", q: "What is the base word of 'reheat'?", o: ["re", "heat", "eat"], c: 1 },
                { n: 11, t: "Emily noticed a moist spot on the floor and leaned down to investigate.", q: "What does the word 'investigate' mean?", o: ["to clean", "to look closely", "to sleep"], c: 1 },
                { n: 12, p: "Pet Adoption this Weekend!\n\nThe city's animal shelter is hosting an adoption event this weekend, featuring a variety of cats, dogs, and small animals looking for loving homes. Potential adopters can meet the animals, learn about their personalities, and complete the adoption process on-site.", q: "What is the purpose of this news article?", o: ["tell people about a pet adoption event", "to teach people about pets", "to get people to volunteer at the animal shelter"], c: 0 },
                { n: 13, t: "Jack's helpful friend assisted him in fixing his bike.", q: "What does the word 'helpful' mean?", o: ["being rude", "being kind and supportive", "being lazy"], c: 1 },
                { n: 14, p: "Tommy found a treasure map hidden in his backyard. He followed the map's clues and dug in the dirt until he found a shiny box buried underground. When Tommy opened the box, he found gold coins inside.", q: "What did Tommy find buried in his backyard?", o: ["a toy", "a treasure", "a book"], c: 1 },
                { n: 15, t: "The title of a text is: 'Let's Read Together: Discover the Magic of Books!'", q: "What is the text meant to do?", o: ["teach something", "tell a story", "make people do something"], c: 2 },
                { n: 16, t: "The sun was as bright as a flashlight shining in my eyes.", q: "What is the meaning of the simile?", o: ["the sun and a flashlight", "the sun and the moon", "the sun and the stars"], c: 0 },
                { n: 17, t: "Timmy insisted that his opinion about the matter was correct.", q: "What does the word 'insist' mean?", o: ["to disagree", "to argue", "to firmly assert"], c: 2 },
                { n: 18, t: "Sophie's opinion on the matter was that it was necessary to wear a helmet while riding a bike.", q: "What does the word 'opinion' mean?", o: ["a fact", "a belief or judgment", "a guess"], c: 1 },
                { n: 19, t: "An article tells how to adopt a pet.", q: "Which heading would give details about choosing the right pet?", o: ["Animal Shelters", "Feeding Your Pet", "Pick the Right Pet"], c: 2 },
                { n: 20, p: "The water cycle is a process that helps water move around the Earth. First, the sun heats water in oceans, rivers, and lakes, making it evaporate into the air. Then, the water vapor cools and forms clouds in the sky. Finally, when the clouds get heavy, they release water as rain or snow, which falls back to the ground and starts the cycle again.", q: "What is the text meant to do?", o: ["teach something", "tell a story", "make people do something"], c: 0 },
                { n: 21, p: "In fields of green, we run and play\nWith friends, we laugh throughout the day\nThe sun shines bright, the sky so blue\nIn summertime, our joy breaks through", q: "What is the rhyme pattern?", o: ["AABB", "ABAB", "ABCB"], c: 0 },
                { n: 22, p: "Emily went on a camping trip with her family. They roasted marshmallows over a campfire, told spooky stories, and slept in a tent under the stars.", q: "Where did Emily go on her trip?", o: ["the zoo", "the beach", "camping"], c: 2 },
                { n: 23, p: "Jake forgot to do his homework last night and got in trouble at school. He learned that it's important to do his homework on time. Now he makes sure to do his homework as soon as he gets home from school.", q: "What did Jake learn is important to do on time?", o: ["playing video games", "eating dinner", "doing homework"], c: 2 },
                { n: 24, p: "Do you like to play outside? Going outside is fun and good for us. We can run, jump, and play games. Let's go outside and have fun together!", q: "Why did the author write this?", o: ["to tell people what to do outside", "to teach people how to play outside", "to tell people why they should play outside"], c: 2 },
                { n: 25, p: "Having a pet can make us very happy. They wag their tails and purr, showing us love. Playing with them is so much fun!", q: "What is this text mostly about?", o: ["how to adopt a pet", "cats are the best pet", "pets can make us happy"], c: 2 },
                { n: 26, p: "In the garden, flowers bloom so bright\nBirds chirp and sing with all their might\nTheir colors dance in the golden light\nBringing joy to every sight", q: "What is the rhyme pattern?", o: ["AAAA", "AABB", "ABCA"], c: 0 },
                { n: 27, t: "The word 'bat' can mean a flying mammal that comes out at night.", q: "Which sentence uses the word with this meaning?", o: ["Tim broke his bat at baseball practice.", "When the cat plays with the toy, it bats it with its paw.", "The bat flew into the cave at night."], c: 2 },
                { n: 28, p: "In the garden, flowers bloom\nBirds sing songs, dispel the gloom\nSunshine warms, brightens the day\nIn this world, let's laugh and _____.", q: "Which word goes in the blank to make an AABB rhyme?", o: ["play", "broom", "graph"], c: 0 },
                { n: 29, t: "Tommy leaned against the wall to catch his breath after the long march.", q: "What does the word 'leaned' mean?", o: ["to stand up straight", "to move quickly", "to bend towards"], c: 2 },
                { n: 30, p: "Mountains are huge landforms that rise high above the ground. They are made up of rocks, soil, and sometimes snow at the top. Many people like to climb mountains for fun and adventure.", q: "What is the text meant to do?", o: ["teach something", "tell a story", "make people do something"], c: 0 },
                { n: 31, t: "Emily included all the necessary ingredients in her cake recipe.", q: "What does the word 'include' mean?", o: ["to leave out", "to add", "to clean"], c: 1 },
                { n: 32, p: "Eating fruits and vegetables every day makes our bodies strong and healthy. They give us energy to play and learn, and keep us from getting sick. Let's fill our plates with colorful fruits and veggies for a happy, healthy life!", q: "What is the text meant to do?", o: ["teach something", "tell a story", "make people do something"], c: 2 },
                { n: 33, p: "Dinosaurs were huge creatures that lived millions of years ago. Some dinosaurs were as big as a school bus, while others were small like a chicken. Scientists study dinosaur bones and fossils to learn more about them.", q: "Why do scientists study dinosaur bones?", o: ["to learn more about them", "to collect them", "to travel in time"], c: 0 },
                { n: 34, t: "Sarah planned to label all the boxes before moving to her new house.", q: "What does the word 'plan' mean?", o: ["to make a list", "to organize or prepare", "to sleep"], c: 1 }
            ]}
        };

        // Create part1 and part2
        DATA.test3.part1 = DATA.test3.full.slice(0, 17);
        DATA.test3.part2 = DATA.test3.full.slice(17, 34);
        DATA.test2.part1 = DATA.test2.full.slice(0, 17);
        DATA.test2.part2 = DATA.test2.full.slice(17, 34);

        // Variables
        let test, part, qs, cur, ans;

        // Load counts
        function loadCounts() {
            ['t2-full', 't2-p1', 't2-p2'].forEach(k => {
                const c = localStorage.getItem(k) || 0;
                const el = document.getElementById('c-' + k);
                if (el) el.textContent = c;
            });
        }

        // Start test
        function loadTest(t, p) {
            test = t; part = p;
            qs = DATA[t][p];
            ans = new Array(qs.length).fill(null);
            cur = 0;
            
            document.getElementById('homeScreen').style.display = 'none';
            document.getElementById('testScreen').style.display = 'block';
            
            const num = t === 'test3' ? '#3' : '#2';
            const lbl = p === 'full' ? 'FULL TEST (1-34)' : p === 'part1' ? 'PART 1 (1-17)' : 'PART 2 (18-34)';
            
            document.getElementById('testTitle').textContent = 'Practice Test ' + num;
            document.getElementById('testLabel').textContent = lbl;
            
            const key = t === 'test2' ? (p === 'full' ? 't2-full' : p === 'part1' ? 't2-p1' : 't2-p2') : '';
            const cnt = key ? localStorage.getItem(key) || 0 : 0;
            document.getElementById('currentCount').textContent = cnt;
            
            showQ();
            window.scrollTo(0, 0);
        }

        // Show question
        function showQ() {
            const q = qs[cur];
            let h = '<div class="question-box"><div class="q-number">Question ' + q.n + ' of ' + qs[qs.length-1].n + '</div>';
            
            if (q.p) h += '<div class="passage">' + q.p.replace(/\n/g, '<br>') + '</div>';
            else if (q.t) h += '<div class="q-text">' + q.t + '</div>';
            
            h += '<div class="q-text"><strong>' + q.q + '</strong></div>';
            
            const l = ['A', 'B', 'C'];
            q.o.forEach((opt, i) => {
                const sel = ans[cur] === i ? 'selected' : '';
                h += '<div class="option ' + sel + '" onclick="pick(' + i + ')"><div class="option-letter">' + l[i] + '</div><span>' + opt + '</span></div>';
            });
            
            h += '</div>';
            document.getElementById('questionArea').innerHTML = h;
            
            document.getElementById('prevBtn').disabled = cur === 0;
            
            const nxt = document.getElementById('nextBtn');
            const sub = document.getElementById('submitBtn');
            if (cur === qs.length - 1) {
                nxt.classList.add('hidden');
                sub.classList.remove('hidden');
            } else {
                nxt.classList.remove('hidden');
                sub.classList.add('hidden');
            }
            
            const pct = ((cur + 1) / qs.length) * 100;
            const bar = document.getElementById('progressBar');
            bar.style.width = pct + '%';
            bar.textContent = 'Question ' + (cur + 1) + ' of ' + qs.length;
        }

        function pick(i) { ans[cur] = i; showQ(); }
        function prevQ() { if (cur > 0) { cur--; showQ(); } }
        function nextQ() { if (cur < qs.length - 1) { cur++; showQ(); } }

        // Submit
        function submit() {
            const un = ans.filter(a => a === null).length;
            if (un > 0 && !confirm('You have ' + un + ' unanswered questions. Submit anyway?')) return;
            
            // Increment count
            if (test === 'test2') {
                const k = part === 'full' ? 't2-full' : part === 'part1' ? 't2-p1' : 't2-p2';
                let c = parseInt(localStorage.getItem(k) || 0);
                c++;
                localStorage.setItem(k, c);
            }
            
            let cor = 0, corQ = [], incQ = [];
            qs.forEach((q, i) => {
                if (ans[i] === q.c) { cor++; corQ.push(q.n); }
                else incQ.push(q.n);
            });
            
            const pct = Math.round((cor / qs.length) * 100);
            const fb = pct >= 90 ? 'üåü Outstanding! You\'re doing an excellent job!' :
                       pct >= 80 ? 'üòä Great work! Keep practicing and you\'ll do even better!' :
                       pct >= 70 ? 'üëç Good effort! Review the questions you missed and try again!' :
                       'üí™ Keep practicing! You\'re learning and improving!';
            
            document.getElementById('questionArea').style.display = 'none';
            document.getElementById('buttonArea').style.display = 'none';
            document.querySelector('.progress-bar').style.display = 'none';
            
            let h = '<div class="score-circle"><div class="score-num">' + pct + '%</div><div class="score-label">' + cor + ' out of ' + qs.length + '</div></div>';
            h += '<h2>Test Complete!</h2><div class="feedback">' + fb + '</div>';
            h += '<div class="result-box result-correct"><h3>‚úì Correct: ' + cor + '</h3><div class="result-text">Questions: ' + corQ.join(', ') + '</div></div>';
            
            if (incQ.length > 0) {
                h += '<div class="result-box result-incorrect"><h3>‚úó Incorrect: ' + incQ.length + '</h3><div class="result-text">Questions: ' + incQ.join(', ') + '</div></div>';
            }
            
            h += '<div class="btn-container"><button class="btn-primary" onclick="retry()">Try Again</button><button class="btn-secondary" onclick="home()">Home</button></div>';
            
            document.getElementById('resultsArea').innerHTML = h;
            document.getElementById('resultsArea').classList.remove('hidden');
        }

        function retry() {
            ans = new Array(qs.length).fill(null);
            cur = 0;
            document.getElementById('questionArea').style.display = 'block';
            document.getElementById('buttonArea').style.display = 'flex';
            document.querySelector('.progress-bar').style.display = 'block';
            document.getElementById('resultsArea').classList.add('hidden');
            showQ();
            window.scrollTo(0, 0);
        }

        function home() {
            document.getElementById('testScreen').style.display = 'none';
            document.getElementById('homeScreen').style.display = 'block';
            loadCounts();
            window.scrollTo(0, 0);
        }

        // Initialize
        loadCounts();
    </script>
</body>
</html>
